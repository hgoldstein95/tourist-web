(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{256:function(e,t,r){e.exports=r(439)},261:function(e,t,r){},262:function(e,t,r){},439:function(e,t,r){"use strict";r.r(t);var a=r(2),n=r.n(a),o=r(66),i=r.n(o),l=(r(261),r(124)),s=(r(262),r(544)),c=r(250),u=r(545),m=r(553),p=r(539),d=r(542),g=r(543),h=r(537),f=Object(h.a)(function(e){return{bgErr:{backgroundColor:e.palette.error.dark},errIcon:{fontSize:20,opacity:.9,marginRight:10}}}),y=function(e){var t=f(e);return n.a.createElement(m.a,{open:e.show,anchorOrigin:{vertical:"bottom",horizontal:"center"},autoHideDuration:6e3},n.a.createElement(p.a,{message:n.a.createElement("span",null,n.a.createElement(d.a,{className:t.errIcon},"error"),e.message||"An Error Occurred"),action:[n.a.createElement(g.a,{key:"close",color:"inherit",onClick:e.hideError},n.a.createElement(d.a,null,"close"))],className:t.bgErr}))};function b(e){var t;try{t=JSON.parse(e)}catch(n){return"Failed to parse file as JSON."}var r,a="Could not parse file as a tour.";return"object"!=typeof t.repositories?a:(t.repositories=new Map(Object.entries(t.repositories)),(r=t).repositories instanceof Map&&"string"===typeof r.title&&"string"===typeof r.description&&Array.isArray(r.stops)&&r.stops.every(function(e){return function(e){return"string"===typeof e.body&&"number"===typeof e.line&&"string"===typeof e.relPath&&"string"===typeof e.repository&&"string"===typeof e.title}(e)})?t:a)}var E=function(e){var t=Object(a.useState)(null),r=Object(l.a)(t,2),o=r[0],i=r[1];return n.a.createElement("div",null,n.a.createElement(s.a,{container:!0,justify:"center",alignItems:"center",style:{height:"100vh"}},n.a.createElement(s.a,{item:!0,xs:7,style:{textAlign:"center"}},n.a.createElement(c.a,{variant:"h3",style:{marginBottom:20}},"Welcome to Tourist!"),n.a.createElement("p",null,"Tourist is a new approach to documentation that allows programmers to explain low-level technical details of a system while simultaneously providing the context of how those details fit into the broader architecture. It lets programmers document code in the same way that they would explain it in person: by walking the consumer step-by-step through the important parts of a codebase."),n.a.createElement(u.a,{style:{marginTop:80},color:"primary",variant:"outlined",component:"label"},"Upload a Tour",n.a.createElement("input",{type:"file",style:{display:"none"},onInput:function(t){var r=t.target.files[0],a=new FileReader;a.readAsText(r),a.onload=function(t){var r=b(t.target.result);"string"!=typeof r?e.route({kind:"CreateIndex",tour:r}):i(r)}}})))),n.a.createElement(y,{show:null!==o,hideError:function(){return i(null)},message:o||void 0}))},v=r(548),w=r(552),x=r(549),k=function(e){var t=e.repository.provider;return n.a.createElement(s.a,{item:!0,xs:12},n.a.createElement(s.a,{container:!0,alignItems:"flex-end"},n.a.createElement(s.a,{item:!0,xs:3},n.a.createElement(c.a,{variant:"h5"},e.repoName)),n.a.createElement(s.a,{item:!0,xs:2},n.a.createElement(v.a,{value:t,onChange:function(t){return r=t.target.value,e.repository.provider=r,void e.onChange(e.repository);var r}},n.a.createElement(w.a,{value:"github"},"GitHub"),n.a.createElement(w.a,{value:"gitlab"},"GitLab"))),n.a.createElement(s.a,{item:!0,xs:"gitlab"!==t?7:5},n.a.createElement(x.a,{style:{width:"100%"},value:e.repository.name,label:e.first&&"gitlab"!==t?"Repository Tag (e.g. noobmaster69/my-repo)":"Repository Tag",onChange:function(t){return r=t.target.value,e.repository.name=r,void e.onChange(e.repository);var r}})),"gitlab"===t&&n.a.createElement(s.a,{item:!0,xs:2},n.a.createElement(x.a,{style:{width:"100%",marginLeft:10},type:"number",value:"gitlab"===e.repository.provider?e.repository.project:0,label:"GitLab Project",onChange:function(t){return r=+t.target.value,void("gitlab"===e.repository.provider&&(e.repository.project=r,e.onChange(e.repository)));var r}}))))},j=function(e){var t=e.page.tour,r=Object(a.useState)(new Map(Array.from(t.repositories.keys()).map(function(e){return[e,{provider:"github",name:""}]}))),o=Object(l.a)(r,2),i=o[0],m=o[1],p=Object(a.useState)(null),d=Object(l.a)(p,2),g=d[0],h=d[1];return n.a.createElement("div",null,n.a.createElement(s.a,{container:!0,style:{height:"100vh"},justify:"center",alignItems:"center"},n.a.createElement(s.a,{item:!0,xs:12,md:6},n.a.createElement(s.a,{container:!0},n.a.createElement(s.a,{item:!0,xs:12,style:{marginBottom:30}},n.a.createElement(c.a,{variant:"h4"},t.title)),n.a.createElement(s.a,{item:!0,xs:12},n.a.createElement(s.a,{container:!0},Array.from(t.repositories.keys()).map(function(e,t){return n.a.createElement(k,{repoName:e,repository:i.get(e),onChange:function(t){return function(e,t){var r=new Map(i);r.set(e,t),m(r)}(e,t)},key:e,first:0===t})}))),n.a.createElement(s.a,{item:!0,xs:12,style:{textAlign:"right",marginTop:50}},n.a.createElement(u.a,{onClick:function(){Array.from(i.entries()).some(function(e){var t=Object(l.a)(e,2),r=(t[0],t[1]);return""===r.name||"gitlab"===r.provider&&!r.project})?h("You must set a mapping for every repository."):e.route({kind:"ViewTour",tour:e.page.tour,index:i})},color:"primary",variant:"outlined"},"Start Tour"))))),n.a.createElement(y,{show:null!==g,hideError:function(){return h(null)},message:g||void 0}))},O=r(547),T=r(246),L=r.n(T),C=r(247),A=r(248),I=r.n(A),M=Object(h.a)(function(e){return{focusLine:{borderTop:"1px solid black",borderBottom:"1px solid black"},focusLineDeco:{width:"5px !important",marginLeft:3,backgroundColor:e.palette.primary.main}}}),N=function(e){var t=M(),r=Object(a.useRef)(null);return Object(a.useEffect)(function(){if(r.current){var a=r.current.editor;if(a){var n=a.getModel();n&&(n.setValue(e.code),a.revealLineInCenter(e.focusLine),a.deltaDecorations([],[{range:{startLineNumber:e.focusLine,startColumn:0,endLineNumber:e.focusLine,endColumn:0},options:{isWholeLine:!0,className:t.focusLine,linesDecorationsClassName:t.focusLineDeco}}]))}}},[r,e,t]),n.a.createElement(I.a,{ref:r,height:"80vh",language:"typescript",options:{readOnly:!0,minimap:{enabled:!1}}})};var S=function(e){var t=function(e,t,r,a){switch(e.provider){case"github":return"https://github.com/"+e.name+"/blob/"+r+"/"+t+"#L"+a;case"gitlab":return"https://gitlab.com/"+e.name+"/blob/"+r+"/"+t+"#L"+a}}(e.repository,e.path,e.commit,e.line);return n.a.createElement(O.a,{href:t,style:{float:"right"}},"View on ","github"===e.repository.provider?"GitHub":"GitLab")},R=function(e){var t=e.stop,r=e.index.get(e.stop.repository),a=new C.Converter;a.setFlavor("github");var o=a.makeHtml(t.body);return n.a.createElement("div",null,n.a.createElement(c.a,{variant:"h3"},t.title),n.a.createElement("div",{dangerouslySetInnerHTML:{__html:o}}),r&&n.a.createElement(S,{repository:r,path:t.relPath,commit:e.tour.repositories.get(t.repository)||"master",line:t.line}))},P=function(e){var t=Object(a.useState)("Loading..."),r=Object(l.a)(t,2),o=r[0],i=r[1],s=e.index.get(e.stop.repository);return Object(a.useEffect)(function(){s?L.a.get(function(e,t,r){switch(e.provider){case"github":return"https://raw.githubusercontent.com/"+e.name+"/"+r+"/"+t;case"gitlab":return"https://gitlab.com/api/v4/projects/"+e.project+"/repository/files/"+t+"/raw?ref="+r}}(s,e.stop.relPath,e.tour.repositories.get(e.stop.repository)||"master")).then(function(e){i(e.data)}):i("Repository was not mapped in the index.")},[e.stop,e.tour,s]),n.a.createElement(N,{code:o,focusLine:e.stop.line})},B=function(e){return n.a.createElement(s.a,{container:!0},n.a.createElement(s.a,{item:!0,md:4,xs:12,style:{paddingRight:60}},n.a.createElement(R,{index:e.index,tour:e.tour,stop:e.stop})),n.a.createElement(s.a,{item:!0,md:8,xs:12},n.a.createElement(P,{index:e.index,tour:e.tour,stop:e.stop})))},H=function(e){return n.a.createElement(s.a,{container:!0},n.a.createElement(s.a,{item:!0,xs:12,style:{textAlign:"center"}},n.a.createElement(c.a,{variant:"h3"},e.tour.title)),n.a.createElement(s.a,{item:!0,xs:12,style:{textAlign:"center"}},n.a.createElement("p",{style:{marginTop:50}},e.tour.description)))},D=function(e){var t=e.page.tour.stops,r=Object(a.useState)(-1),o=Object(l.a)(r,2),i=o[0],c=o[1];var u=i<t.length-1,m=i>-1;return n.a.createElement(s.a,{container:!0,style:{paddingTop:20,paddingLeft:60,paddingRight:60}},n.a.createElement(s.a,{item:!0,xs:12,style:{marginBottom:20}},n.a.createElement(g.a,{onClick:function(){c(Math.max(-1,i-1))},disabled:!m},n.a.createElement(d.a,null,"arrow_back")),n.a.createElement(g.a,{onClick:function(){c(Math.min(t.length,i+1))},disabled:!u,style:{float:"right"}},n.a.createElement(d.a,null,"arrow_forward"))),n.a.createElement(s.a,{item:!0,xs:12},-1===i?n.a.createElement(H,{tour:e.page.tour}):n.a.createElement(B,{index:e.page.index,tour:e.page.tour,stop:t[i]})))},G=function(e){var t,r=Object(a.useState)(e.page||{kind:"UploadTour"}),o=Object(l.a)(r,2),i=o[0],s=o[1];switch(i.kind){case"UploadTour":t=n.a.createElement(E,{page:i,route:s});break;case"CreateIndex":t=n.a.createElement(j,{page:i,route:s});break;case"ViewTour":t=n.a.createElement(D,{page:i,route:s})}return n.a.createElement("div",{className:"App"},t)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var F=r(249),J=r(551),V=Object(F.a)({palette:{primary:{light:"#67daff",main:"#03a9f4",dark:"#007ac1",contrastText:"#fff"},secondary:{light:"#80e27e",main:"#4caf50",dark:"#087f23",contrastText:"#000"}}});i.a.render(n.a.createElement(J.a,{theme:V},n.a.createElement(G,{page:{kind:"CreateIndex",tour:{title:"The Tourist Library",description:"A tour of the entire tourist library.",repositories:new Map([["tourist","a5837a902401225417849baaa78f25384e59d6d0"]]),stops:[{body:"You can initialize a tour file with the `init` method.",line:35,relPath:"src/tourist.ts",repository:"tourist",title:"The init Method"},{body:"Tour files can be manipulated with methods like `add`, `edit`, `move`, and `remove`.\n\nYay for tourist!",line:69,relPath:"src/tourist.ts",repository:"tourist",title:"Manipulating a Tour File"},{body:"This document outlines what errors can be thrown and what they mean.",line:1,relPath:"docs/error-handling.md",repository:"tourist",title:"Handling Errors"}]}}})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[256,2,3]]]);
//# sourceMappingURL=main.77bceb3e.chunk.js.map